# ドキュメントツリー構造管理ガイドライン

@version[1.0.0]
@owner[documentation-team]
@category[documentation-standards]
@priority[high]
@lastUpdated[2024-03-16]
@status[active]

## 1. 目的

本ガイドラインは、プロジェクトドキュメントを体系的に整理・管理するためのツリー構造の設計と運用方法を定義します。一貫性のあるドキュメント構造は、情報の発見性を高め、ドキュメントの保守性と再利用性を向上させます。

## 2. 基本方針

1. **階層的整理** - 論理的なカテゴリに基づいた階層構造でドキュメントを整理
2. **参照性の確保** - 関連ドキュメント間の相互参照を明示的に管理
3. **一貫性の維持** - 命名規則、メタデータ、フォーマットの標準化
4. **発見可能性の最大化** - 検索性と閲覧性に優れた構造設計

## 3. ドキュメントツリー構造

### 3.1 基本構造

ドキュメントリポジトリは次の階層構造に従って整理します：

```
/docs/
├── README.md                       # ドキュメントルートの概要と案内
├── architecture/                   # アーキテクチャドキュメント
│   ├── README.md                   # アーキテクチャドキュメントの概要
│   ├── overview/                   # システム全体の概要
│   ├── components/                 # コンポーネント設計
│   ├── data/                       # データモデルとスキーマ
│   └── security/                   # セキュリティアーキテクチャ
├── requirements/                   # 要件ドキュメント
│   ├── README.md                   # 要件ドキュメントの概要
│   ├── business/                   # ビジネス要件
│   ├── functional/                 # 機能要件
│   └── non-functional/             # 非機能要件
├── design/                         # 設計ドキュメント
│   ├── README.md                   # 設計ドキュメントの概要
│   ├── ui/                         # UI/UX設計
│   ├── api/                        # API設計
│   └── database/                   # データベース設計
├── specifications/                 # 詳細仕様書
│   ├── README.md                   # 仕様書の概要
│   ├── technical/                  # 技術仕様書
│   ├── functional/                 # 機能仕様書
│   └── api/                        # API仕様書
├── guides/                         # ガイド・マニュアル
│   ├── README.md                   # ガイドの概要
│   ├── user/                       # ユーザーガイド
│   ├── admin/                      # 管理者ガイド
│   ├── developer/                  # 開発者ガイド
│   └── operations/                 # 運用ガイド
├── processes/                      # プロセスドキュメント
│   ├── README.md                   # プロセスドキュメントの概要
│   ├── development/                # 開発プロセス
│   ├── testing/                    # テストプロセス
│   ├── deployment/                 # デプロイメントプロセス
│   └── operations/                 # 運用プロセス
├── meetings/                       # 会議議事録
│   ├── README.md                   # 会議議事録の概要
│   └── YYYY-MM/                    # 年月ごとの議事録
├── templates/                      # ドキュメントテンプレート
│   ├── README.md                   # テンプレートの概要と使用方法
│   └── [各種テンプレート]
└── assets/                         # 共有アセット
    ├── images/                     # 画像ファイル
    ├── diagrams/                   # 図表ファイル
    └── attachments/                # その他の添付ファイル
```

### 3.2 拡張構造（大規模プロジェクト向け）

大規模プロジェクトでは、以下のような追加構造を導入します：

```
/docs/
├── ...
├── projects/                       # プロジェクト固有のドキュメント
│   ├── [プロジェクトA]/            # プロジェクトごとのサブディレクトリ
│   └── [プロジェクトB]/
├── products/                       # プロダクト固有のドキュメント
│   ├── [プロダクトA]/              # プロダクトごとのサブディレクトリ
│   └── [プロダクトB]/
├── departments/                    # 部門固有のドキュメント
│   ├── [部門A]/                    # 部門ごとのサブディレクトリ
│   └── [部門B]/
└── ...
```

## 4. 命名規則

### 4.1 ディレクトリ命名規則

- 小文字のケバブケース（`kebab-case`）を使用
- 複数形を基本とする（`components`, `requirements`など）
- 明確で具体的な名前を使用
- 特殊文字は避ける

例：
```
✅ user-guides/
✅ api-specifications/
✅ database-schemas/
❌ UserGuides/
❌ API_SPECS/
❌ DB/
```

### 4.2 ファイル命名規則

- 小文字のケバブケース（`kebab-case`）を使用
- プレフィックスとサフィックスを活用して分類を明確に
- 適切なファイル拡張子を使用（`.md`, `.pdf`, `.drawio`など）
- バージョン情報はメタデータで管理し、ファイル名には含めない

例：
```
✅ user-authentication-api-spec.md
✅ payment-processing-architecture.md
✅ database-schema-customer-data.drawio
❌ UserAuth_APISpec.md
❌ Payment Architecture v2.md
❌ DB_Schema.drawio
```

### 4.3 インデックスファイル

各ディレクトリには必ず`README.md`ファイルを配置し、以下の内容を含めます：

- ディレクトリの目的とスコープ
- 含まれるドキュメントの概要リスト
- 関連する他のディレクトリへのリンク
- 特記事項やガイダンス

## 5. メタデータと分類

### 5.1 基本メタデータ

すべてのドキュメントは先頭に以下のメタデータを含めます：

```markdown
@version[1.0.0]
@owner[team-name]
@category[document-category]
@priority[high|medium|low]
@lastUpdated[YYYY-MM-DD]
@status[draft|review|approved|archived]
```

### 5.2 追加メタデータ（オプション）

必要に応じて以下のメタデータを追加します：

```markdown
@tags[tag1,tag2,tag3]
@relatedTo[doc-id-1,doc-id-2]
@reviewedBy[name1,name2]
@approvedBy[name]
@expiryDate[YYYY-MM-DD]
```

### 5.3 カテゴリタクソノミー

ドキュメントは以下のカテゴリで分類します：

- **architectural**: アーキテクチャ関連
- **requirements**: 要件関連
- **design**: 設計関連
- **specification**: 詳細仕様
- **guide**: ガイドやマニュアル
- **process**: プロセス説明
- **report**: レポートや報告書
- **meeting**: 会議関連
- **template**: テンプレート
- **reference**: 参考資料

## 6. 相互参照とリンク

### 6.1 内部リンク

同一リポジトリ内のドキュメント間のリンクは相対パスを使用します：

```markdown
[アーキテクチャ概要](../../architecture/overview/system-architecture.md)
```

### 6.2 外部リンク

外部リソースへのリンクは絶対URLを使用し、可能な限り永続的なリンクを選択します：

```markdown
[OpenAPI仕様](https://github.com/OAI/OpenAPI-Specification/blob/main/versions/3.1.0.md)
```

### 6.3 固定リファレンス

頻繁に参照される重要なドキュメントには、一貫した識別子を割り当て、リポジトリルートのエイリアスファイルからリンクできるようにします：

```
/docs/refs/
├── architecture.md        # → /docs/architecture/overview/main-architecture.md
├── api-guidelines.md      # → /docs/guides/developer/api-guidelines.md
└── data-schema.md         # → /docs/design/database/schema.md
```

## 7. バージョン管理

### 7.1 基本ルール

- ドキュメントはGitなどのバージョン管理システムで管理する
- 変更はコミットメッセージに明確に記載する
- 大きな変更はプルリクエスト/マージリクエストで管理する

### 7.2 バージョニングスキーム

ドキュメントのバージョンは[セマンティックバージョニング](https://semver.org/)に準じて管理します：

- MAJOR: 互換性のない変更
- MINOR: 後方互換性のある機能追加
- PATCH: 後方互換性のあるバグ修正や小さな変更

### 7.3 履歴管理

重要なドキュメントには変更履歴セクションを含めます：

```markdown
## 変更履歴

| バージョン | 日付 | 変更者 | 変更内容 |
|----------|------|-------|---------|
| 1.0.0 | 2024-03-01 | 山田太郎 | 初版作成 |
| 1.1.0 | 2024-03-15 | 佐藤花子 | ユーザー認証フローの追加 |
| 1.1.1 | 2024-03-16 | 鈴木一郎 | 図表の更新と誤字修正 |
```

## 8. 検索と発見可能性

### 8.1 検索最適化

ドキュメントの検索性を高めるために以下の対策を講じます：

- 適切なタイトルと見出しの使用
- キーワードの戦略的配置
- メタデータとタグの活用
- 要約や概要の提供

### 8.2 ナビゲーション支援

以下の手段でドキュメントナビゲーションを支援します：

- 目次（ToC）の提供
- ブレッドクラム表示
- 関連ドキュメントへのリンク
- カテゴリ別インデックス

### 8.3 集中型インデックス

主要なドキュメントへのアクセスを容易にするために、以下のマスターインデックスを維持します：

- プロジェクト全体のドキュメントマップ
- カテゴリ別ドキュメントリスト
- よく参照されるドキュメントへのクイックリンク

## 9. メンテナンスプロセス

### 9.1 定期レビュー

ドキュメントの鮮度と正確性を確保するために定期レビューを実施します：

- 重要ドキュメント: 四半期ごと
- 標準ドキュメント: 半年ごと
- 参考ドキュメント: 年に1回

### 9.2 アーカイブポリシー

不要になったドキュメントを適切に管理するためのルールを定めます：

- 最低2年間は履歴として保持
- アーカイブタグを付与
- アーカイブディレクトリに移動

### 9.3 責任分担

ドキュメント管理における役割と責任を明確にします：

- ドキュメントオーナー: 内容の正確性と更新に責任を持つ
- ドキュメント管理者: 構造とプロセスの整合性を保つ
- レビュアー: 定期的なレビューを実施
- 全チームメンバー: 不正確な情報の報告に責任を持つ

## 10. ツールと自動化

### 10.1 推奨ツール

- Markdownエディタ（VSCode, Typora等）
- バージョン管理システム（Git）
- ドキュメント管理システム（Confluence, DocFX等）
- 図表作成ツール（draw.io, Mermaid, PlantUML等）

### 10.2 自動化プロセス

以下のドキュメント管理タスクを自動化します：

- リンク検証（壊れたリンクの検出）
- フォーマット検証（一貫性チェック）
- メタデータ検証
- インデックス生成
- PDF/HTML変換

## 11. 実装ガイド

新しいプロジェクトに本ガイドラインを適用する手順を以下に示します：

1. **初期構造のセットアップ**
   - 基本ディレクトリ構造の作成
   - README.mdファイルの配置
   - テンプレートの準備

2. **既存ドキュメントの移行**
   - 既存ドキュメントの分類と整理
   - 命名規則に基づく名前変更
   - メタデータの追加

3. **チーム教育**
   - ガイドラインの説明セッション
   - ツールの使用方法トレーニング
   - よくある質問と回答の共有

4. **定期的なレビューとメンテナンス**
   - 月次の構造レビュー
   - 四半期ごとのクリーンアップ
   - 年次の大規模見直し

## 関連ドキュメント

- [ドキュメント作成の基本原則](./documentation-basic-principles.md)
- [Markdownスタイルガイド](./markdown-style-guide.md)
- [ドキュメントレビュープロセス](./document-review-process.md) 