# ドメインサービス定義

@version[1.0.0]
@owner[domain-team]
@category[service-definitions]

## 概要
このファイルでは、システムのドメインサービスとアプリケーションサービスの定義を提供します。
サービスの責務、振る舞い、および他のドメイン要素との関係性を定義します。

## 1. ドメインサービス
### 1.1 基本概念
- 複数エンティティ間の協調
- ドメインルールの実装
- ステートレスな操作

### 1.2 責務の範囲
- ビジネスプロセスの統合
- 横断的な関心事の管理
- 複雑な計算や判断

### 1.3 ドメインサービスの種類
#### 1.3.1 計算サービス
- 複雑な計算ロジックの集約
- ビジネスルールに基づく計算
- 複数エンティティのデータを使用した演算

#### 1.3.2 ポリシーサービス
- ビジネスルールの検証
- 制約の適用
- 整合性の確認

#### 1.3.3 プロセスサービス
- ビジネスプロセスの調整
- 複数の操作の連携
- トランザクション境界の管理

### 1.4 制約と規則
- ステートレス性の維持
- 副作用の最小化
- 明確な責務境界
- 再利用可能性の確保

## 2. アプリケーションサービス
### 2.1 基本概念
- ユースケースの実現
- トランザクション管理
- 外部システムとの連携

### 2.2 責務の範囲
- 入力の検証
- ドメインオブジェクトの操作
- 結果の変換と返却

### 2.3 アプリケーションサービスの種類
#### 2.3.1 コマンドサービス
- ドメインの状態を変更する操作
- トランザクション管理
- イベント発行

#### 2.3.2 クエリサービス
- データの取得と集計
- 検索条件の処理
- 結果の整形

### 2.4 制約と規則
- 単一の責務原則の遵守
- ドメインロジックの漏洩防止
- 適切な粒度の維持
- エラー処理の一貫性

## 3. サービス間の関係
### 3.1 依存関係
- ドメインサービス間の連携
- アプリケーションサービスからの利用
- 外部サービスとの統合

### 3.2 境界の定義
- サービスの分割基準
- 責務の重複回避
- インターフェースの設計

### 3.3 統合の原則
- 疎結合の維持
- 依存関係の明確化
- インターフェースの安定性
- バージョン管理の考慮

## レビューチェックリスト

### サービスの妥当性
- [ ] 責務の明確性
- [ ] ステートレス性の確保
- [ ] インターフェースの適切性

### 実装の品質
- [ ] トランザクション境界の適切性
- [ ] エラーハンドリングの考慮
- [ ] パフォーマンスへの配慮

### 保守性
- [ ] テスト容易性
- [ ] 依存関係の管理
- [ ] ドキュメントの整備 
