---
description: 
globs: 
alwaysApply: false
---
\
---
description: AI対応内容レポート作成のガイドライン - システム日時取得とタスク管理連携
globs: 
alwaysApply: false
---
description: AI対応内容レポート作成のガイドライン - システム日時取得とタスク管理連携
globs: 
alwaysApply: false
---
# AI対応内容レポート作成ガイドライン

## 1. 基本方針

AIがユーザーの指示に基づき実施した対応内容について、後から参照しやすく、かつ経緯を理解できるように構造化されたレポートを作成します。
このガイドラインは、AIがレポートを作成する際の基準となります。

## 2. ファイル生成ルール

*   **ファイル名形式:** `MMDD-作業概要.md`
    *   `MMDD`: **システムの現在日時から取得した**レポート作成日の月日を4桁の数字で記載 (例: 12月23日の場合は1223)。この部分はAIが自動で現在のシステム日時を取得して付与してください。
    *   `作業概要`: レポート対象の作業内容を簡潔に示す英語または日本語の短い記述 (例: `jest-test-troubleshooting`, `feature-x-implementation-summary`, `バグ修正報告`)。この部分はAIが内容を判断して適切に設定するか、ユーザーに確認してください。
*   **保存場所:** `reports/` または `corporate-cms-docs/reports/` 配下（プロジェクト構造に応じて自動判定）

### 2.1. プロジェクト構造自動判定
AIは以下の順序でレポート保存場所を自動判定します：
1. `corporate-cms-docs/reports/` ディレクトリが存在する場合: こちらを優先使用
2. `reports/` ディレクトリが存在する場合: 基本的な保存場所として使用
3. どちらも存在しない場合: `reports/` ディレクトリを新規作成して使用
4. 特殊なプロジェクト構造の場合: ユーザーに確認して適切な場所を決定

## 3. レポート構造と記述内容

以下の項目立てを基本とし、各項目でAIが実施した対応を詳細かつ時系列に沿って記述してください。

### 3.1. 概要 (Overview)

*   ユーザーからの主要な指示や、AIが自律的に開始したタスクの目的を簡潔に記述します。
*   このレポートがカバーする作業の範囲と期間（もし明確なら）を冒頭に示します。

### 3.2. 初期状況・課題 (Initial State / Problem Statement)

*   作業開始前のシステムの状況、または解決しようとした具体的な問題点、背景を記述します。
*   関連するファイル名、エラーメッセージの抜粋、参照したドキュメントなど、具体的な情報を記載します。

### 3.3. 実施した対応とプロセス (Actions Taken and Process)

このセクションは、作業の複雑性や内容に応じて、さらに詳細なサブセクションに分けてください。

*   **時系列での詳細記録:**
    *   **ステップごとの説明:** 何を目的として、どのような手順で作業を進めたかを具体的に記述します。
    *   **実行コマンド:** ターミナルで実行したコマンドとその主要な結果（成功/失敗、重要な出力メッセージの抜粋など）。
    *   **ファイル編集:** 編集したファイル名（フルパスが望ましい）、変更箇所の概要、可能であればdiff形式での変更点、または変更前後のコードスニペット。
    *   **参照情報:** 意思決定の根拠となったドキュメント、Web検索結果のURLやその要点、既存コードの分析結果など。
    *   **判断と理由:** なぜその対応策を選択したのか、他の選択肢と比較してどうだったのかなど、思考プロセスを記述します。
    *   **発生した問題と解決策:** 作業中に予期せぬ問題が発生した場合、その内容、原因分析、試行錯誤の過程、最終的な解決策を詳細に記録します。
*   **利用ツール:**
    *   使用可能なツール（例: `edit_file`, `search_replace`, `run_terminal_cmd`, `read_file`, `list_dir`, `grep_search`, `file_search` など）を使用した場合は、そのツール名と使用目的、得られた主要な情報を記載します。
*   **コード変更の設計意図:**
    *   単なる変更内容だけでなく、その変更がどのような設計判断に基づいているか（例: クリーンアーキテクチャの原則適用、パフォーマンス改善、セキュリティ要件への対応など）を説明します。

### 3.4. 結果と現状 (Results and Current Status)

*   一連の対応によって達成されたこと、解決した問題を明確に記述します。
*   変更後のシステムの動作状態、テスト結果のサマリー（例: 全テストPASS、特定のエラーが解消された、カバレッジの変化など）。
*   もし作業が途中の場合や、一部未解決の問題が残っている場合は、その現状を正確に記述します。
*   変更によって影響を受ける可能性のある他のシステムや機能についても言及します (もしあれば)。

### 3.5. 今後の課題・推奨事項 (Next Steps / Recommendations)

*   未解決の問題がある場合、それに対する今後の対応策案や調査方針を提案します。
*   さらなる改善のための推奨事項、リファクタリングの提案など。
*   ユーザーに確認を求める事項や、レビューしてほしいポイントを具体的に記載します。

## 4. 記述スタイルと留意点

*   **客観性と正確性:** 事実に基づいて、客観的かつ正確に記述します。推測や曖昧な表現は避け、根拠を示します。
*   **具体性:** 「多くのファイルを変更した」ではなく、「A、B、Cの3つのファイルを変更した」のように具体的に記述します。
*   **専門用語:** 適切な専門用語を使用し、プロジェクト内で共通認識のない用語については初出時に簡単な説明を加えます。
*   **可読性:** 箇条書き、コードブロック（適切なシンタックスハイライト付き）、表などを効果的に使用し、視覚的に理解しやすいように工夫します。
*   **時系列の明確化:** 複数の対応が並行したり、前後したりする場合は、その関係性がわかるように記述します。
*   **再現性:** 他の人がレポートを読んで、何がどのように行われたかを理解し、必要であれば再現できる程度の情報を提供します。

## 5. AIへの指示 (Instruction to AI)

このガイドラインに従ってレポートを作成する際は、特に以下の点を意識してください。

*   **網羅性:** ユーザーが作業全体の流れと詳細を把握できるように、重要な判断、試行錯誤、結果を省略せずに記録してください。
*   **構造化:** 上記の項目立てを遵守し、情報を論理的に整理して提示してください。必要に応じてサブセクションを適切に設けてください。
*   **システム日時の取得:**
    *   レポート作成時には、必ずシステムの現在日時を取得してファイル名のMMDD部分に反映してください。
    *   日時の形式：月日を4桁で表記（例：12月23日 → 1223、5月7日 → 0507）
    *   レポート内の日付記載についても、システム日時に基づいて正確に記録してください。
*   **自動化と判断:**
    *   ファイル名の `MMDD` 部分は、**AIが現在のシステム日時を取得して**レポート作成時点の月日（MM月DD日形式で4桁）を自動で付与してください。例：12月23日なら「1223」、5月7日なら「0507」
    *   `作業概要` は、対応内容全体を的確に表すものをAIが判断して設定してください。もし判断が難しい場合は、ユーザーに複数の候補を提示するか、入力を促してください。
*   **タスク管理チェックリスト自動更新:**
    *   レポート作成と同時に、プロジェクト内のタスク管理チェックリストファイル（通常は `[プロジェクト名]-docs/reports/` ディレクトリ内の `task-*-checklist.md` または類似ファイル）を自動で更新してください。
    *   完了したタスクには「✅」マークと完了日を追記し、新たに発見されたタスクがあれば適切なカテゴリに追加してください。
    *   進行中のタスクは「🔄」、未着手は「❌」または「[ ]」で表記し、優先度に応じてリスト内の位置を調整してください。
    *   「最終更新」フィールドに現在の日付と更新内容の概要を記載してください。
    *   新しいマイルストーンや技術的成果があれば、該当セクションに追記してください。
    *   タスク管理チェックリストファイルが存在しない場合は、ユーザーに確認の上で新規作成するか、この機能をスキップしてください。
*   **ユーザーへの配慮:** 専門知識がない人が読んでも理解できるように、平易な言葉遣いを心がけるか、注釈を適宜加えることを検討してください。

---
